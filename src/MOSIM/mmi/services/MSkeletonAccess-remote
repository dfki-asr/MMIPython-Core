#!/usr/bin/env python
#
# Autogenerated by Thrift Compiler (0.13.0)
#
# DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
#
#  options string: py
#

import sys
import pprint
if sys.version_info[0] > 2:
    from urllib.parse import urlparse
else:
    from urlparse import urlparse
from thrift.transport import TTransport, TSocket, TSSLSocket, THttpClient
from thrift.protocol.TBinaryProtocol import TBinaryProtocol

from MMIStandard.services import MSkeletonAccess
from MMIStandard.services.ttypes import *

if len(sys.argv) <= 1 or sys.argv[1] == '--help':
    print('')
    print('Usage: ' + sys.argv[0] + ' [-h host[:port]] [-u url] [-f[ramed]] [-s[sl]] [-novalidate] [-ca_certs certs] [-keyfile keyfile] [-certfile certfile] function [arg1 [arg2...]]')
    print('')
    print('Functions:')
    print('  void InitializeAnthropometry(MAvatarDescription description)')
    print('  MAvatarDescription GetAvatarDescription(string avatarID)')
    print('  void SetAnimatedJoints(string avatarID,  joints)')
    print('  void SetChannelData(MAvatarPostureValues values)')
    print('  MAvatarPosture GetCurrentGlobalPosture(string avatarID)')
    print('  MAvatarPosture GetCurrentLocalPosture(string avatarID)')
    print('  MAvatarPostureValues GetCurrentPostureValues(string avatarID)')
    print('  MAvatarPostureValues GetCurrentPostureValuesPartial(string avatarID,  joints)')
    print('   GetCurrentJointPositions(string avatarID)')
    print('  MVector3 GetRootPosition(string avatarID)')
    print('  MQuaternion GetRootRotation(string avatarID)')
    print('  MVector3 GetGlobalJointPosition(string avatarId, MJointType joint)')
    print('  MQuaternion GetGlobalJointRotation(string avatarId, MJointType joint)')
    print('  MVector3 GetLocalJointPosition(string avatarId, MJointType joint)')
    print('  MQuaternion GetLocalJointRotation(string avatarId, MJointType joint)')
    print('  void SetRootPosition(string avatarId, MVector3 position)')
    print('  void SetRootRotation(string avatarId, MQuaternion rotation)')
    print('  void SetGlobalJointPosition(string avatarId, MJointType joint, MVector3 position)')
    print('  void SetGlobalJointRotation(string avatarId, MJointType joint, MQuaternion rotation)')
    print('  void SetLocalJointPosition(string avatarId, MJointType joint, MVector3 position)')
    print('  void SetLocalJointRotation(string avatarId, MJointType joint, MQuaternion rotation)')
    print('  MAvatarPostureValues RecomputeCurrentPostureValues(string avatarId)')
    print('   GetStatus()')
    print('  MServiceDescription GetDescription()')
    print('  MBoolResponse Setup(MAvatarDescription avatar,  properties)')
    print('   Consume( properties)')
    print('  MBoolResponse Dispose( properties)')
    print('  MBoolResponse Restart( properties)')
    print('')
    sys.exit(0)

pp = pprint.PrettyPrinter(indent=2)
host = 'localhost'
port = 9090
uri = ''
framed = False
ssl = False
validate = True
ca_certs = None
keyfile = None
certfile = None
http = False
argi = 1

if sys.argv[argi] == '-h':
    parts = sys.argv[argi + 1].split(':')
    host = parts[0]
    if len(parts) > 1:
        port = int(parts[1])
    argi += 2

if sys.argv[argi] == '-u':
    url = urlparse(sys.argv[argi + 1])
    parts = url[1].split(':')
    host = parts[0]
    if len(parts) > 1:
        port = int(parts[1])
    else:
        port = 80
    uri = url[2]
    if url[4]:
        uri += '?%s' % url[4]
    http = True
    argi += 2

if sys.argv[argi] == '-f' or sys.argv[argi] == '-framed':
    framed = True
    argi += 1

if sys.argv[argi] == '-s' or sys.argv[argi] == '-ssl':
    ssl = True
    argi += 1

if sys.argv[argi] == '-novalidate':
    validate = False
    argi += 1

if sys.argv[argi] == '-ca_certs':
    ca_certs = sys.argv[argi+1]
    argi += 2

if sys.argv[argi] == '-keyfile':
    keyfile = sys.argv[argi+1]
    argi += 2

if sys.argv[argi] == '-certfile':
    certfile = sys.argv[argi+1]
    argi += 2

cmd = sys.argv[argi]
args = sys.argv[argi + 1:]

if http:
    transport = THttpClient.THttpClient(host, port, uri)
else:
    if ssl:
        socket = TSSLSocket.TSSLSocket(host, port, validate=validate, ca_certs=ca_certs, keyfile=keyfile, certfile=certfile)
    else:
        socket = TSocket.TSocket(host, port)
    if framed:
        transport = TTransport.TFramedTransport(socket)
    else:
        transport = TTransport.TBufferedTransport(socket)
protocol = TBinaryProtocol(transport)
client = MSkeletonAccess.Client(protocol)
transport.open()

if cmd == 'InitializeAnthropometry':
    if len(args) != 1:
        print('InitializeAnthropometry requires 1 args')
        sys.exit(1)
    pp.pprint(client.InitializeAnthropometry(eval(args[0]),))

elif cmd == 'GetAvatarDescription':
    if len(args) != 1:
        print('GetAvatarDescription requires 1 args')
        sys.exit(1)
    pp.pprint(client.GetAvatarDescription(args[0],))

elif cmd == 'SetAnimatedJoints':
    if len(args) != 2:
        print('SetAnimatedJoints requires 2 args')
        sys.exit(1)
    pp.pprint(client.SetAnimatedJoints(args[0], eval(args[1]),))

elif cmd == 'SetChannelData':
    if len(args) != 1:
        print('SetChannelData requires 1 args')
        sys.exit(1)
    pp.pprint(client.SetChannelData(eval(args[0]),))

elif cmd == 'GetCurrentGlobalPosture':
    if len(args) != 1:
        print('GetCurrentGlobalPosture requires 1 args')
        sys.exit(1)
    pp.pprint(client.GetCurrentGlobalPosture(args[0],))

elif cmd == 'GetCurrentLocalPosture':
    if len(args) != 1:
        print('GetCurrentLocalPosture requires 1 args')
        sys.exit(1)
    pp.pprint(client.GetCurrentLocalPosture(args[0],))

elif cmd == 'GetCurrentPostureValues':
    if len(args) != 1:
        print('GetCurrentPostureValues requires 1 args')
        sys.exit(1)
    pp.pprint(client.GetCurrentPostureValues(args[0],))

elif cmd == 'GetCurrentPostureValuesPartial':
    if len(args) != 2:
        print('GetCurrentPostureValuesPartial requires 2 args')
        sys.exit(1)
    pp.pprint(client.GetCurrentPostureValuesPartial(args[0], eval(args[1]),))

elif cmd == 'GetCurrentJointPositions':
    if len(args) != 1:
        print('GetCurrentJointPositions requires 1 args')
        sys.exit(1)
    pp.pprint(client.GetCurrentJointPositions(args[0],))

elif cmd == 'GetRootPosition':
    if len(args) != 1:
        print('GetRootPosition requires 1 args')
        sys.exit(1)
    pp.pprint(client.GetRootPosition(args[0],))

elif cmd == 'GetRootRotation':
    if len(args) != 1:
        print('GetRootRotation requires 1 args')
        sys.exit(1)
    pp.pprint(client.GetRootRotation(args[0],))

elif cmd == 'GetGlobalJointPosition':
    if len(args) != 2:
        print('GetGlobalJointPosition requires 2 args')
        sys.exit(1)
    pp.pprint(client.GetGlobalJointPosition(args[0], eval(args[1]),))

elif cmd == 'GetGlobalJointRotation':
    if len(args) != 2:
        print('GetGlobalJointRotation requires 2 args')
        sys.exit(1)
    pp.pprint(client.GetGlobalJointRotation(args[0], eval(args[1]),))

elif cmd == 'GetLocalJointPosition':
    if len(args) != 2:
        print('GetLocalJointPosition requires 2 args')
        sys.exit(1)
    pp.pprint(client.GetLocalJointPosition(args[0], eval(args[1]),))

elif cmd == 'GetLocalJointRotation':
    if len(args) != 2:
        print('GetLocalJointRotation requires 2 args')
        sys.exit(1)
    pp.pprint(client.GetLocalJointRotation(args[0], eval(args[1]),))

elif cmd == 'SetRootPosition':
    if len(args) != 2:
        print('SetRootPosition requires 2 args')
        sys.exit(1)
    pp.pprint(client.SetRootPosition(args[0], eval(args[1]),))

elif cmd == 'SetRootRotation':
    if len(args) != 2:
        print('SetRootRotation requires 2 args')
        sys.exit(1)
    pp.pprint(client.SetRootRotation(args[0], eval(args[1]),))

elif cmd == 'SetGlobalJointPosition':
    if len(args) != 3:
        print('SetGlobalJointPosition requires 3 args')
        sys.exit(1)
    pp.pprint(client.SetGlobalJointPosition(args[0], eval(args[1]), eval(args[2]),))

elif cmd == 'SetGlobalJointRotation':
    if len(args) != 3:
        print('SetGlobalJointRotation requires 3 args')
        sys.exit(1)
    pp.pprint(client.SetGlobalJointRotation(args[0], eval(args[1]), eval(args[2]),))

elif cmd == 'SetLocalJointPosition':
    if len(args) != 3:
        print('SetLocalJointPosition requires 3 args')
        sys.exit(1)
    pp.pprint(client.SetLocalJointPosition(args[0], eval(args[1]), eval(args[2]),))

elif cmd == 'SetLocalJointRotation':
    if len(args) != 3:
        print('SetLocalJointRotation requires 3 args')
        sys.exit(1)
    pp.pprint(client.SetLocalJointRotation(args[0], eval(args[1]), eval(args[2]),))

elif cmd == 'RecomputeCurrentPostureValues':
    if len(args) != 1:
        print('RecomputeCurrentPostureValues requires 1 args')
        sys.exit(1)
    pp.pprint(client.RecomputeCurrentPostureValues(args[0],))

elif cmd == 'GetStatus':
    if len(args) != 0:
        print('GetStatus requires 0 args')
        sys.exit(1)
    pp.pprint(client.GetStatus())

elif cmd == 'GetDescription':
    if len(args) != 0:
        print('GetDescription requires 0 args')
        sys.exit(1)
    pp.pprint(client.GetDescription())

elif cmd == 'Setup':
    if len(args) != 2:
        print('Setup requires 2 args')
        sys.exit(1)
    pp.pprint(client.Setup(eval(args[0]), eval(args[1]),))

elif cmd == 'Consume':
    if len(args) != 1:
        print('Consume requires 1 args')
        sys.exit(1)
    pp.pprint(client.Consume(eval(args[0]),))

elif cmd == 'Dispose':
    if len(args) != 1:
        print('Dispose requires 1 args')
        sys.exit(1)
    pp.pprint(client.Dispose(eval(args[0]),))

elif cmd == 'Restart':
    if len(args) != 1:
        print('Restart requires 1 args')
        sys.exit(1)
    pp.pprint(client.Restart(eval(args[0]),))

else:
    print('Unrecognized method %s' % cmd)
    sys.exit(1)

transport.close()
