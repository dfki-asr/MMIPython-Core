#!/usr/bin/env python
#
# Autogenerated by Thrift Compiler (0.13.0)
#
# DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
#
#  options string: py
#

import sys
import pprint
if sys.version_info[0] > 2:
    from urllib.parse import urlparse
else:
    from urlparse import urlparse
from thrift.transport import TTransport, TSocket, TSSLSocket, THttpClient
from thrift.protocol.TBinaryProtocol import TBinaryProtocol

from MMIStandard.services import MSceneAccess
from MMIStandard.services.ttypes import *

if len(sys.argv) <= 1 or sys.argv[1] == '--help':
    print('')
    print('Usage: ' + sys.argv[0] + ' [-h host[:port]] [-u url] [-f[ramed]] [-s[sl]] [-novalidate] [-ca_certs certs] [-keyfile keyfile] [-certfile certfile] function [arg1 [arg2...]]')
    print('')
    print('Functions:')
    print('   GetSceneObjects()')
    print('  MSceneObject GetSceneObjectByID(string id)')
    print('  MSceneObject GetSceneObjectByName(string name)')
    print('   GetSceneObjectsInRange(MVector3 position, double range)')
    print('   GetColliders()')
    print('  MCollider GetColliderById(string id)')
    print('   GetCollidersInRange(MVector3 position, double range)')
    print('   GetMeshes()')
    print('  MMesh GetMeshByID(string id)')
    print('   GetTransforms()')
    print('  MTransform GetTransformByID(string id)')
    print('   GetAvatars()')
    print('  MAvatar GetAvatarByID(string id)')
    print('  MAvatar GetAvatarByName(string name)')
    print('   GetAvatarsInRange(MVector3 position, double distance)')
    print('  double GetSimulationTime()')
    print('  MSceneUpdate GetSceneChanges()')
    print('  MSceneUpdate GetFullScene()')
    print('  MNavigationMesh GetNavigationMesh()')
    print('  string GetData(string fileFormat, string selection)')
    print('   GetAttachments()')
    print('   GetAttachmentsByID(string id)')
    print('   GetAttachmentsByName(string name)')
    print('   GetAttachmentsChildrenRecursive(string id)')
    print('   GetAttachmentsParentsRecursive(string id)')
    print('   GetStatus()')
    print('  MServiceDescription GetDescription()')
    print('  MBoolResponse Setup(MAvatarDescription avatar,  properties)')
    print('   Consume( properties)')
    print('  MBoolResponse Dispose( properties)')
    print('  MBoolResponse Restart( properties)')
    print('')
    sys.exit(0)

pp = pprint.PrettyPrinter(indent=2)
host = 'localhost'
port = 9090
uri = ''
framed = False
ssl = False
validate = True
ca_certs = None
keyfile = None
certfile = None
http = False
argi = 1

if sys.argv[argi] == '-h':
    parts = sys.argv[argi + 1].split(':')
    host = parts[0]
    if len(parts) > 1:
        port = int(parts[1])
    argi += 2

if sys.argv[argi] == '-u':
    url = urlparse(sys.argv[argi + 1])
    parts = url[1].split(':')
    host = parts[0]
    if len(parts) > 1:
        port = int(parts[1])
    else:
        port = 80
    uri = url[2]
    if url[4]:
        uri += '?%s' % url[4]
    http = True
    argi += 2

if sys.argv[argi] == '-f' or sys.argv[argi] == '-framed':
    framed = True
    argi += 1

if sys.argv[argi] == '-s' or sys.argv[argi] == '-ssl':
    ssl = True
    argi += 1

if sys.argv[argi] == '-novalidate':
    validate = False
    argi += 1

if sys.argv[argi] == '-ca_certs':
    ca_certs = sys.argv[argi+1]
    argi += 2

if sys.argv[argi] == '-keyfile':
    keyfile = sys.argv[argi+1]
    argi += 2

if sys.argv[argi] == '-certfile':
    certfile = sys.argv[argi+1]
    argi += 2

cmd = sys.argv[argi]
args = sys.argv[argi + 1:]

if http:
    transport = THttpClient.THttpClient(host, port, uri)
else:
    if ssl:
        socket = TSSLSocket.TSSLSocket(host, port, validate=validate, ca_certs=ca_certs, keyfile=keyfile, certfile=certfile)
    else:
        socket = TSocket.TSocket(host, port)
    if framed:
        transport = TTransport.TFramedTransport(socket)
    else:
        transport = TTransport.TBufferedTransport(socket)
protocol = TBinaryProtocol(transport)
client = MSceneAccess.Client(protocol)
transport.open()

if cmd == 'GetSceneObjects':
    if len(args) != 0:
        print('GetSceneObjects requires 0 args')
        sys.exit(1)
    pp.pprint(client.GetSceneObjects())

elif cmd == 'GetSceneObjectByID':
    if len(args) != 1:
        print('GetSceneObjectByID requires 1 args')
        sys.exit(1)
    pp.pprint(client.GetSceneObjectByID(args[0],))

elif cmd == 'GetSceneObjectByName':
    if len(args) != 1:
        print('GetSceneObjectByName requires 1 args')
        sys.exit(1)
    pp.pprint(client.GetSceneObjectByName(args[0],))

elif cmd == 'GetSceneObjectsInRange':
    if len(args) != 2:
        print('GetSceneObjectsInRange requires 2 args')
        sys.exit(1)
    pp.pprint(client.GetSceneObjectsInRange(eval(args[0]), eval(args[1]),))

elif cmd == 'GetColliders':
    if len(args) != 0:
        print('GetColliders requires 0 args')
        sys.exit(1)
    pp.pprint(client.GetColliders())

elif cmd == 'GetColliderById':
    if len(args) != 1:
        print('GetColliderById requires 1 args')
        sys.exit(1)
    pp.pprint(client.GetColliderById(args[0],))

elif cmd == 'GetCollidersInRange':
    if len(args) != 2:
        print('GetCollidersInRange requires 2 args')
        sys.exit(1)
    pp.pprint(client.GetCollidersInRange(eval(args[0]), eval(args[1]),))

elif cmd == 'GetMeshes':
    if len(args) != 0:
        print('GetMeshes requires 0 args')
        sys.exit(1)
    pp.pprint(client.GetMeshes())

elif cmd == 'GetMeshByID':
    if len(args) != 1:
        print('GetMeshByID requires 1 args')
        sys.exit(1)
    pp.pprint(client.GetMeshByID(args[0],))

elif cmd == 'GetTransforms':
    if len(args) != 0:
        print('GetTransforms requires 0 args')
        sys.exit(1)
    pp.pprint(client.GetTransforms())

elif cmd == 'GetTransformByID':
    if len(args) != 1:
        print('GetTransformByID requires 1 args')
        sys.exit(1)
    pp.pprint(client.GetTransformByID(args[0],))

elif cmd == 'GetAvatars':
    if len(args) != 0:
        print('GetAvatars requires 0 args')
        sys.exit(1)
    pp.pprint(client.GetAvatars())

elif cmd == 'GetAvatarByID':
    if len(args) != 1:
        print('GetAvatarByID requires 1 args')
        sys.exit(1)
    pp.pprint(client.GetAvatarByID(args[0],))

elif cmd == 'GetAvatarByName':
    if len(args) != 1:
        print('GetAvatarByName requires 1 args')
        sys.exit(1)
    pp.pprint(client.GetAvatarByName(args[0],))

elif cmd == 'GetAvatarsInRange':
    if len(args) != 2:
        print('GetAvatarsInRange requires 2 args')
        sys.exit(1)
    pp.pprint(client.GetAvatarsInRange(eval(args[0]), eval(args[1]),))

elif cmd == 'GetSimulationTime':
    if len(args) != 0:
        print('GetSimulationTime requires 0 args')
        sys.exit(1)
    pp.pprint(client.GetSimulationTime())

elif cmd == 'GetSceneChanges':
    if len(args) != 0:
        print('GetSceneChanges requires 0 args')
        sys.exit(1)
    pp.pprint(client.GetSceneChanges())

elif cmd == 'GetFullScene':
    if len(args) != 0:
        print('GetFullScene requires 0 args')
        sys.exit(1)
    pp.pprint(client.GetFullScene())

elif cmd == 'GetNavigationMesh':
    if len(args) != 0:
        print('GetNavigationMesh requires 0 args')
        sys.exit(1)
    pp.pprint(client.GetNavigationMesh())

elif cmd == 'GetData':
    if len(args) != 2:
        print('GetData requires 2 args')
        sys.exit(1)
    pp.pprint(client.GetData(args[0], args[1],))

elif cmd == 'GetAttachments':
    if len(args) != 0:
        print('GetAttachments requires 0 args')
        sys.exit(1)
    pp.pprint(client.GetAttachments())

elif cmd == 'GetAttachmentsByID':
    if len(args) != 1:
        print('GetAttachmentsByID requires 1 args')
        sys.exit(1)
    pp.pprint(client.GetAttachmentsByID(args[0],))

elif cmd == 'GetAttachmentsByName':
    if len(args) != 1:
        print('GetAttachmentsByName requires 1 args')
        sys.exit(1)
    pp.pprint(client.GetAttachmentsByName(args[0],))

elif cmd == 'GetAttachmentsChildrenRecursive':
    if len(args) != 1:
        print('GetAttachmentsChildrenRecursive requires 1 args')
        sys.exit(1)
    pp.pprint(client.GetAttachmentsChildrenRecursive(args[0],))

elif cmd == 'GetAttachmentsParentsRecursive':
    if len(args) != 1:
        print('GetAttachmentsParentsRecursive requires 1 args')
        sys.exit(1)
    pp.pprint(client.GetAttachmentsParentsRecursive(args[0],))

elif cmd == 'GetStatus':
    if len(args) != 0:
        print('GetStatus requires 0 args')
        sys.exit(1)
    pp.pprint(client.GetStatus())

elif cmd == 'GetDescription':
    if len(args) != 0:
        print('GetDescription requires 0 args')
        sys.exit(1)
    pp.pprint(client.GetDescription())

elif cmd == 'Setup':
    if len(args) != 2:
        print('Setup requires 2 args')
        sys.exit(1)
    pp.pprint(client.Setup(eval(args[0]), eval(args[1]),))

elif cmd == 'Consume':
    if len(args) != 1:
        print('Consume requires 1 args')
        sys.exit(1)
    pp.pprint(client.Consume(eval(args[0]),))

elif cmd == 'Dispose':
    if len(args) != 1:
        print('Dispose requires 1 args')
        sys.exit(1)
    pp.pprint(client.Dispose(eval(args[0]),))

elif cmd == 'Restart':
    if len(args) != 1:
        print('Restart requires 1 args')
        sys.exit(1)
    pp.pprint(client.Restart(eval(args[0]),))

else:
    print('Unrecognized method %s' % cmd)
    sys.exit(1)

transport.close()
